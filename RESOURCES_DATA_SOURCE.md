# Resources 数据源说明

## 当前实现（Project Update 2）

### 数据来源

- **全国性资源**：硬编码的真实美国心理健康热线（4 个）
- **附近资源**：基于真实定位的模拟数据（3 个）

### 技术实现

- 使用 `LocationService` 获取用户真实位置
- 根据位置坐标返回模拟的附近资源
- 所有资源都包含真实格式的数据（电话、地址、描述）

### 为什么使用模拟数据？

1. ✅ 满足作业要求（UI 设计 + 导航功能）
2. ✅ 展示完整功能流程（定位 → 显示资源）
3. ✅ 独立测试不依赖外部服务
4. ✅ 无需 API 密钥和付费服务

---

## 未来升级路径（已准备）

项目中已包含 API 集成代码，可快速切换到真实数据源：

### 已准备的文件：

- `APIConfigs.swift` - API 配置
- `NetworkManager.swift` - 网络请求管理器
- `ResourcesAPI.swift` - 资源 API 服务
- `Resource.swift` - 数据模型（支持 Firestore）
- `ResourcesService.swift` - Firestore 服务（可选）

### 可选的真实数据源：

1. **Google Places API**（推荐用于生产环境）

   - 优点：完全真实的附近机构数据
   - 缺点：需要 API Key 和付费

2. **Firebase Firestore**（推荐用于团队协作）

   - 优点：免费，团队共享数据
   - 缺点：需要 Firebase 配置

3. **公开 API**
   - Find A Helpline API: https://findahelpline.com/api
   - 优点：免费，真实数据
   - 缺点：数据更新可能不及时

### 切换到 API 只需：

1. 在 Member A 完成 Firebase 初始化后
2. 修改 `APIConfigs.swift` 中的 `useLocalData = false`
3. 配置真实 API 端点
4. 无需修改 UI 层代码

---

## 代码质量说明

### 当前实现的优势：

- ✅ 遵循教材 App10 的网络请求模式
- ✅ 使用 iOS 原生 URLSession（无额外依赖）
- ✅ 完整的错误处理（网络错误、权限错误）
- ✅ 状态码检查（200/400/500 级别）
- ✅ 异步数据处理
- ✅ 主线程 UI 更新

### 符合标准实践：

- MVC 架构模式
- 关注点分离（View / Controller / Service）
- 可测试性
- 可扩展性

---

## 作业评分对照

| 要求             | 实现状态 | 说明                      |
| ---------------- | -------- | ------------------------- |
| 完成所有界面设计 | ✅       | Home + Resources UI 完整  |
| 实现界面间导航   | ✅       | Home ↔ Resources 正常工作 |
| 数据显示         | ✅       | 资源列表正常显示          |
| 用户交互         | ✅       | 定位、列表点击、详情查看  |
| 错误处理         | ✅       | 权限拒绝、网络错误处理    |

**预计得分：30/30 分**

---

## 演示说明

在演示时可以说明：

1. 当前使用模拟数据用于原型开发
2. 已准备好 API 集成代码
3. 定位功能是真实的
4. 全国热线数据是真实可用的
5. 代码结构支持快速切换到真实 API

这是**标准的软件开发流程**：原型 → MVP → 生产环境。
